---
slug: /chain-support
title: Requesting Chain Support
---

# Requesting Chain Support

To request an EVM chain(s) to be supported by Sourcify, please open a pull request with the instructions below for a speedy process:

1.  Make sure the new chains are listed in [chains.json](https://github.com/argotorg/sourcify/blob/staging/services/server/src/chains.json) but **this file should not be edited**. It is kept in sync with [chainid.network](https://chainid.network/chains.json) (github: [ethereum-lists/chains](https://github.com/ethereum-lists/chains)) periodically. If your chains are not included, please first add your chains to the [ethereum-lists/chains](https://github.com/ethereum-lists/chains) repository first.

1.  Fork the repository. Branch out from the **staging** branch with name e.g. `add-chain-1-11155111` for Ethereum Mainnet (1) and Sepolia (11155111) or `add-chain-1` for Ethereum Mainnet only. This branch name format is required for automated testing. You can also add more than one chains in one pull request, granted you added tests for each.

1.  Add the chain details in [sourcify-chains-default.json](https://github.com/argotorg/sourcify/blob/staging/services/server/src/sourcify-chains-default.json) similar to other chains with `supported: true`.

<details>
      <summary>
         Here's a full example of a chain entry:
      </summary>

```json
{
  // the chain id
  "1": {
    "sourcifyName": "Ethereum Mainnet", // required
    "supported": true, // required

    // optional
    "etherscanApi": {
      "apiURL": "https://api.etherscan.io",
      "apiKeyEnvName": "ETHERSCAN_API_KEY" // the name of the environment variable holding the api key
    },

    // optional
    "fetchContractCreationTxUsing": {
      // How to find the transaction hash that created the contract
      "etherscanApi": true, // if supported by the new etherscan api. Need to provide the etherscanApi config
      "blockscoutApi": {
        // blockscout v2 instances have an api endpoint for this
        "url": "https://gnosis.blockscout.com/"
      },
      "blockscoutScrape": {
        // scraping from old (server-side rendered) blockscout ui
        "url": "https://scan.pulsechain.com/"
      },
      "avalancheApi": true // avalanche subnets at glacier-api.avax.network have an api endpoint for this
    },

    // optional
    // Leave empty to use the default rpcs in chains.json i.e. chainid.network/chains.json
    "rpc": [
      "https://rpc.sepolia.io", // can be a simple url
      {
        "type": "FetchRequest", // ethers.js FetchRequest for header authenticated RPCs
        "url": "https://rpc.mainnet.ethpandaops.io",
        "headers": [
          {
            "headerName": "CF-Access-Client-Id",
            "headerEnvName": "CF_ACCESS_CLIENT_ID"
          },
          {
            "headerName": "CF-Access-Client-Secret",
            "headerEnvName": "CF_ACCESS_CLIENT_SECRET"
          }
        ]
      },
      {
        "type": "Alchemy", // Alchemy RPCs
        "url": "https://eth-mainnet.alchemyapi.io/v2/{ALCHEMY_API_KEY}",
        "apiKeyEnvName": "ALCHEMY_API_KEY"
      },
      {
        "type": "Infura", // Infura RPCs
        "url": "https://palm-mainnet.infura.io/v3/{INFURA_API_KEY}",
        "apiKeyEnvName": "INFURA_API_KEY"
      }
    ]
  }
}
```

</details>

1.  Install and build the project with `npm install` and `npx lerna run build`.

1.  Provide test contracts:
    1. If your chain has an instance of CreateX ([deployments](https://createx.rocks/deployments)) or Multicall ([deployments](https://www.multicall3.com/deployments)), you can skip this step.
    1. If not, deploy a Storage.sol contract:
       1. Using the provided script: You can easily deploy both contracts with an account private key using the provided [`script`](https://github.com/argotorg/sourcify/blob/staging/services/server/test/chains/deployContracts.ts), that can be run with `ts-node`. Inside `services/server`, run `npx ts-node test/chains/deployContracts.ts --help` for more information.
       1. If you can't or don't want to paste your private key, deploy [this contract in the Thirdweb dashboard](https://thirdweb.com/0xAA6042aa65eb93C6439cDaeBC27B3bd09c5DFe94/Storage) through the wallet of your choice.
       1. Add the contract address on your chain to [storage-contract-chain-addresses.json](https://github.com/argotorg/sourcify/blob/staging/services/server/test/chains/sources/storage-contract-chain-addresses.json)

1.  To test locally run `export NEW_CHAIN_ID=1,11155111 && npm run test-local:chains` inside `services/server`. Note that this requires `docker-compose`.

1.  If the tests pass, open a pull request targeting the Sourcify **staging** branch.

If the tests pass, the chain will be added quickly. The chain will be added to production (master branch) with the next release, which usually happens in 1-2 weeks.

_If the tests for a chain will fail two weeks in a row, we will assume the chain is not being maintained and remove it from the supported chains list. The tests can be seen [in CircleCI](https://app.circleci.com/pipelines/github/argotorg/sourcify?branch=master) under "test-chains-regularly" workflow_
